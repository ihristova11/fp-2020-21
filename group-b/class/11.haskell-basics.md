# Седмица 11 - Първи стъпки с Haskell

## Съдържание

1. [Как ще протече Haskell частта от семетъра ни?](#1-как-ще-протече-haskell-частта-от-семестъра-ни)
2. [Инсталиране на среда за изпълнение (Haskell platform)](#2-инсталиране-на-среда-за-изпълнение)
3. [Как ще програмираме на Haskell?](#3-как-ще-програмираме-на-haskell)
4. [Ресурси, които ще използваме по време на курса](#4-ресурси-които-ще-използваме-по-време-на-курса)

## 1. Как ще протече Haskell частта от семестъра ни?
Преди всяко упражнение, ще има една или няколко глави от [Learn you a haskell for great good](http://learnyouahaskell.com/chapters), с които ще трябва да се подготвим. Нещата ще се обясняват и на лекции, разбира се.
След всяко упражнение (в зависимост как се движим), ще споделям в Discord какво се очаква да прочетем до следващото.

## 2. Инсталиране на среда за изпълнение

За да изпълняваме Haskell код, имаме нужда от компилатор - т.нар. GHC (Glasgow Haskell Compiler). Има различни начини, по които може да се сдобием с него:

За Windows, на този [линк](https://www.haskell.org/platform/windows.html) има инструкции как се инсталира през един от възможните package managers (Chocolatey).

Ако не сте фенове на командния ред на Windows, може от [тук](https://www.haskell.org/platform/prior.html) да свалите стара версия на платформата (ще свърши работа за целите на курса).

За Linux/MacOS потребители, би трябвало да е сравнително straightforward - изпълнява се по една команда - [Linux](https://www.haskell.org/platform/#linux), [MacOS](https://www.haskell.org/ghcup/)


## 3. Как ще програмираме на Haskell?

### Редактор
За разлика от racket, тук няма универсален редактор (или готово IDE, каквото е DrRacket), така че всеки може да използва такъв по избор.  
Някои от популярните редактори, към които могат да се добавят plugins (разширения):
* Visual Studio Code
* Sublime Text
* Atom

Разширенията, които биха ни били полезни са:
* Syntax Highlighting - тъй като синтаксисът на Haskell е доста по-сложен от този на Scheme, е хубаво да различаваме лесно отделните думички в кода ни
* Linting - както при повечето езици, и в Haskell има "правила" какво квалифицираме като хубав код - lint разширенията ни помагат да видим стилистични проблеми
* Compilation - както в DrRacket беше достатъчно да натиснем `Run` и всичко да се изпълни, така може кой да е от горните редактори да се настрои да изпълнява Haskell код

### Изпълнение

Изпълнението на програмата ни ще се случва в терминал (команден ред).
Всеки може да използва любимия си терминал като най-често се срещат `cmd` (Windows), `bash`, `zsh` (Linux/MacOS)

Единственото, което ще ни е нужно от терминала, ще е да навигираме между директории - командите `cd`, `dir`/`ls`, `pwd`.

Когато искаме да "изпълним" Haskell програма, пишем `ghci <filename>` и влизаме в Haskell среда със заредената програма.

*Какво се случва, когато напишем `ghci <filename>`?*

Както помним, ghc идваше от Glasgow Haskell Compiler. Последното `i` идва от `interactive`.GHC компилира програмата ни и я дава на REPL среда, така че дефинициите от файла ни да са видими в нея.   
*На практика това означава, че начинът на изпълнение на програмата не се различава особено от този в DrRacket.*

Какво може да правим в Haskell средата (тази, в която влизаме, след като изпълним `ghci <filename>`)?
* Да извикваме вградени функции - `2 + 5`, `pred 5`, etc.
* Да извикваме функции, които сме дефинирали във файла си - `factorial 5`
* Да презаредим файла си (както правехме в DrRacket с `Run`, когато сме написали нещо ново и искаме да го изпробваме) - `:reload` или `:r`
* Да заредим друг файл - `:load` или `:l`
* Да излезем от Haskell средата - `:quit` или `:q`


### Например:

Пишем си ние код във файла `first.hs` (редактор по избор)
Кодът изглежда така:
```haskell
factorial :: Int -> Int
factorial 0 = 1
factorial x = x * (factorial (x - 1))
```

Искаме да изпробваме кода.

Отваряме терминал (команден ред) и навигираме до папката, където се съдържа този файл:  
`cd ~/Documents` например

Изпълняваме `ghci first.hs`.

Оттук нататък се намираме в Haskell среда - тук командите, които бихме изпълнявали в обикновен терминал не работят. Ако искате да се върнете - `:q`.

Ако всичко е окей с компилацията, ще получите съобщение от типа на `One Module Loaded`.
Ако нещо не е наред, ще получите грешки, след които трябва да опитате пак.

След като вече сме в Haskell среда, може да опитаме да извикаме нашата функция - `factorial 5` например и да видим резултата.

Правим промяна във файла - вече изглежда така:
```haskell
factorial :: Int -> Int
factorial 0 = 1
factorial 1 = 1
factorial x = x * (factorial (x - 1))
```

За да се отрази тази промяна (макар и несъществена в този случай), трябва да презаредим файла в Haskell средата (както правихме в DrRacket с `Run`) - изпълняваме `:reload` или `:r`.
Това отново компилира файла ни и вече работим с последната му версия.

Решаваме, че не ни се програмира повече и излизаме от Haskell средата с `:q`.

## 4. Какви ресурси ще използваме по време на курса:

### [Learn you a haskell for great good](http://learnyouahaskell.com/chapters)
Най-добрата книга-въведение за език за програмиране. точка.  
Преди всяко упражнение, ще трябва да сме прочели няколко глави, така че да има смисъл от занятието.


### [Hoggle](https://hoogle.haskell.org/)
Тук може да търсим сигнатури на функции, които ни интересуват. Hoggle ни ги дава, заедно с това в кои пакети се намират.

